{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}حذف قالب مكون الراتب{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="mb-4">
        <div class="mb-2">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a href="{% url 'core:dashboard' %}"><i class="fas fa-home me-1"></i>الرئيسية</a></li>
                    <li class="breadcrumb-item"><a href="{% url 'hr:dashboard' %}"><i class="fas fa-users me-1"></i>الموارد البشرية</a></li>
                    <li class="breadcrumb-item"><a href="{% url 'hr:salary_component_templates_list' %}"><i class="fas fa-money-bill-wave me-1"></i>قوالب مكونات الراتب</a></li>
                    <li class="breadcrumb-item active"><i class="fas fa-trash me-1"></i>حذف قالب</li>
                </ol>
            </nav>
        </div>
    </div>

    {% include 'hr/components/delete_modal.html' with delete_url=request.path confirmation_message="هل أنت متأكد من حذف القالب التالي؟" item_title=template.name item_info=item_fields display_as_card=False related_items_count=0 show_final_warning=True final_warning_message='لن يمكنك التراجع عن هذا الإجراء' %}
</div>

<!-- تشغيل المودال تلقائياً -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    var deleteModal = new bootstrap.Modal(document.getElementById('deleteModal'));
    deleteModal.show();
    
    // الرجوع للقائمة عند إغلاق المودال
    document.getElementById('deleteModal').addEventListener('hidden.bs.modal', function () {
        window.location.href = "{% url 'hr:salary_component_templates_list' %}";
    });
});
</script>
{% endblock %}
