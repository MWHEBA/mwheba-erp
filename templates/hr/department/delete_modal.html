{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}حذف قسم{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Breadcrumb + Header -->
    <div class="mb-4">
        <div class="mb-2">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a href="{% url 'core:dashboard' %}"><i class="fas fa-home me-1"></i>الرئيسية</a></li>
                    <li class="breadcrumb-item"><a href="{% url 'hr:dashboard' %}"><i class="fas fa-users-cog me-1"></i>الموارد البشرية</a></li>
                    <li class="breadcrumb-item"><a href="{% url 'hr:department_list' %}"><i class="fas fa-building me-1"></i>الأقسام</a></li>
                    <li class="breadcrumb-item active">حذف قسم</li>
                </ol>
            </nav>
        </div>
    </div>

    {% include 'hr/components/delete_modal.html' with delete_url=request.path confirmation_message="هل أنت متأكد من حذف القسم التالي؟" item_title=department.name_ar item_info=item_fields display_as_card=True related_items_count=total_related warning_type='warning' warning_icon='info-circle' warning_title='ملاحظة هامة:' warning_message=warning_message show_final_warning=show_final_warning final_warning_message='سيتم حذف جميع البيانات المرتبطة!' %}
</div>

<!-- تشغيل المودال تلقائياً -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    var deleteModal = new bootstrap.Modal(document.getElementById('deleteModal'));
    deleteModal.show();
    
    // الرجوع للقائمة عند إغلاق المودال
    document.getElementById('deleteModal').addEventListener('hidden.bs.modal', function () {
        window.location.href = "{% url 'hr:department_list' %}";
    });
});
</script>
{% endblock %}
