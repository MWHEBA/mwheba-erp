# ๐งช ุฎุทุฉ ุงูุงุฎุชุจุงุฑ ุงูููุซู - ูุธุงู ุงูุฒูุงุฏุงุช ุงูุณูููุฉ

**ุงูุชุงุฑูุฎ:** 2025-11-07  
**ุงููุฏู:** ุงุฎุชุจุงุฑ ุดุงูู ูููุธุงู ูุจู ุงููุดุฑ

---

## โ Checklist ุงูุงุฎุชุจุงุฑุงุช

### 1. ุงุฎุชุจุงุฑ Models โ
- [x] Contract Model - ุงูุญููู ููุฌูุฏุฉ
- [x] SalaryComponent Model - ูุชุจุน ุงูููุธู
- [x] Contract.total_earnings - ูุญุณุจ ุตุญ
- [x] Contract.calculate_next_increase_date - ูุญุณุจ ุตุญ

### 2. ุงุฎุชุจุงุฑ Command ๐
- [ ] ุชุดุบูู dry-run
- [ ] ุชุดุบูู ูุนูู
- [ ] ุงูุชุญูู ูู ุฅูุดุงุก ุงูุจููุฏ
- [ ] ุงูุชุญูู ูู ุชุญุฏูุซ ุงูุชุงุฑูุฎ

### 3. ุงุฎุชุจุงุฑ Admin ๐
- [ ] ูุชุญ ุตูุญุฉ Contract Admin
- [ ] ุนุฑุถ ุญููู ุงูุฒูุงุฏุฉ
- [ ] Filters ุชุนูู
- [ ] SalaryComponent Admin ูุญุฏุซ

### 4. ุงุฎุชุจุงุฑ Forms ๐
- [ ] ูุชุญ ุตูุญุฉ ุฅุถุงูุฉ ุนูุฏ
- [ ] ุญููู ุงูุฒูุงุฏุฉ ุธุงูุฑุฉ
- [ ] JavaScript ูุนูู
- [ ] ุงูุญูุธ ูุนูู

### 5. ุงุฎุชุจุงุฑ Views ๐
- [ ] ุตูุญุฉ ุชูุงุตูู ุงูุนูุฏ
- [ ] ุชุงุจ ุงูุฒูุงุฏุงุช ูุนุฑุถ ุตุญ
- [ ] ุงููุณุชุญูุงุช ุชุนุฑุถ ุงูุจููุฏ
- [ ] ุงูุฅุฌูุงูู ุตุญูุญ

### 6. ุงุฎุชุจุงุฑ ุงูุณููุงุฑูููุงุช ๐
- [ ] ุฅูุดุงุก ุนูุฏ ุจุฒูุงุฏุฉ ุณูููุฉ
- [ ] ุชุดุบูู Command
- [ ] ุงูุชุญูู ูู ุงูุจููุฏ
- [ ] ุชุฌุฏูุฏ ุงูุนูุฏ
- [ ] ุงูุชุญูู ูู ุงูุชูุงู ุงูุจููุฏ

---

## ๐ฏ ุงูุงุฎุชุจุงุฑุงุช ุงูุชูุตูููุฉ

### Test 1: ุฅูุดุงุก ุนูุฏ ุจุฒูุงุฏุฉ ุณูููุฉ

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ `/hr/contract/add/`
2. ุงููุฃ ุงูุจูุงูุงุช:
   - ุงูููุธู: ุงุฎุชุฑ ููุธู
   - ุงูุฑุงุชุจ ุงูุฃุณุงุณู: 10000
   - โ ูุณุชุญู ุฒูุงุฏุฉ ุณูููุฉ
   - ุงููุณุจุฉ: 10%
   - ุงูุชูุฑุงุฑ: ูุตู ุณููู
   - ุงูุจุฏุงูุฉ: ุชุงุฑูุฎ ุงูุนูุฏ
3. ุงุญูุธ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุนูุฏ ููุญูุธ ุจูุฌุงุญ
- โ `next_increase_date` ูุญุณูุจ
- โ ุงูุญููู ุธุงูุฑุฉ ูู ุงูุชูุงุตูู

---

### Test 2: ุชุดุบูู Command (Dry Run)

**ุงูุฃูุฑ:**
```bash
python manage.py process_annual_increases --dry-run --verbose
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
============================================================
ุจุฏุก ูุนุงูุฌุฉ ุงูุฒูุงุฏุงุช ุงูุณูููุฉ
ุงูููุช: 2025-11-07 11:10:00
ูุถุน ุงูุชุฌุฑุจุฉ: ูุนู
============================================================
โ ุชู ุงูุนุซูุฑ ุนูู 0 ุนูุฏ ูุณุชุญู ููุฒูุงุฏุฉ
ูุง ุชูุฌุฏ ุนููุฏ ูุณุชุญูุฉ ููุฒูุงุฏุฉ ุงูููู
```

---

### Test 3: ุชุนุฏูู ุงูุชุงุฑูุฎ ููุงุฎุชุจุงุฑ

**ุงูุฎุทูุฉ:**
1. ุงูุชุญ Admin โ Contracts
2. ุงุฎุชุฑ ุงูุนูุฏ
3. ุนุฏู `next_increase_date` ูุชุงุฑูุฎ ุงูููู ุฃู ูุจูู
4. ุงุญูุธ

---

### Test 4: ุชุดุบูู Command (ูุนูู)

**ุงูุฃูุฑ:**
```bash
python manage.py process_annual_increases --verbose
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
============================================================
ุจุฏุก ูุนุงูุฌุฉ ุงูุฒูุงุฏุงุช ุงูุณูููุฉ
============================================================
โ ุชู ุงูุนุซูุฑ ุนูู 1 ุนูุฏ ูุณุชุญู ููุฒูุงุฏุฉ

--- ูุนุงูุฌุฉ ุงูุนูุฏ #CON-0001 ---
ุงูููุธู: [ุงุณู ุงูููุธู]
ุงูุฑุงุชุจ ุงูุญุงูู: 10000
ูุณุจุฉ ุงูุฒูุงุฏุฉ: 10%
ุงูุชูุฑุงุฑ: ูุตู ุณููู
โ ุชู ุฅุถุงูุฉ ุจูุฏ ุฒูุงุฏุฉ 5% = 500.00 ุฌููู
  ุงูุฑุงุชุจ ุงูุฃุณุงุณู: 10000 (ุซุงุจุช) | ุงูุฅุฌูุงูู: 10500.00

============================================================
โ ุงูุชููุช ุงููุนุงูุฌุฉ
============================================================
ุฅุฌูุงูู ุงูุนููุฏ ุงููุนุงูุฌุฉ: 1
ุงูุฒูุงุฏุงุช ุงููุทุจูุฉ: 1
ุงูุฃุฎุทุงุก: 0
============================================================
โ ุชู ุฅุถุงูุฉ 1 ุจูุฏ ุฒูุงุฏุฉ ุณูููุฉ ููุฑูุงุชุจ
```

---

### Test 5: ุงูุชุญูู ูู ุงูุจููุฏ

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ Admin โ Salary Components
2. ุงุจุญุซ ุนู ุงูููุธู
3. ุชุญูู ูู ูุฌูุฏ ุจูุฏ "ุฒูุงุฏุฉ ุณูููุฉ - [ุงูุชุงุฑูุฎ]"

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุจูุฏ ููุฌูุฏ
- โ ุงููุจูุบ = 500
- โ `employee` = ุงูููุธู ุงูุตุญูุญ
- โ `contract` = ุงูุนูุฏ ุงูุญุงูู

---

### Test 6: ุงูุชุญูู ูู ุตูุญุฉ ุงูุนูุฏ

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุตูุญุฉ ุชูุงุตูู ุงูุนูุฏ
2. ุงุฐูุจ ูุชุงุจ "ุงูุฒูุงุฏุงุช"
3. ุชุญูู ูู ุงููุนูููุงุช

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุนูููุงุช ุงูุฒูุงุฏุฉ ุธุงูุฑุฉ
- โ ุฌุฏูู ุงูุฒูุงุฏุงุช ุงููุทุจูุฉ ูุนุฑุถ ุงูุจูุฏ
- โ ุงูุชุงุฑูุฎ ุงููุงุฏู ูุญุฏุซ

---

### Test 7: ุงูุชุญูู ูู ุงููุณุชุญูุงุช

**ุงูุฎุทูุงุช:**
1. ูู ุตูุญุฉ ุงูุนูุฏ
2. ุงุฐูุจ ูุชุงุจ "ุงูุฑุงุชุจ"
3. ุชุญูู ูู ูุณู ุงููุณุชุญูุงุช

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุจูุฏ ุธุงูุฑ ูู ุงููุณุชุญูุงุช
- โ ุงูุฅุฌูุงูู = 10,500

---

### Test 8: ุชุฌุฏูุฏ ุงูุนูุฏ

**ุงูุฎุทูุงุช:**
1. ุฃูุดุฆ ุนูุฏ ุฌุฏูุฏ ูููุณ ุงูููุธู
2. ุชุงุฑูุฎ ุงูุจุฏุงูุฉ ุจุนุฏ ุงูุนูุฏ ุงููุฏูู
3. ุงุญูุธ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุนูุฏ ุงูุฌุฏูุฏ ููุญูุธ
- โ ุงูุจููุฏ ุงููุฏููุฉ ุธุงูุฑุฉ ูู ุงูุนูุฏ ุงูุฌุฏูุฏ
- โ ุงูุฅุฌูุงูู ุตุญูุญ

---

### Test 9: ุชุดุบูู Command ูุฑุฉ ุซุงููุฉ

**ุงูุฃูุฑ:**
```bash
python manage.py process_annual_increases --verbose
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
ูุง ุชูุฌุฏ ุนููุฏ ูุณุชุญูุฉ ููุฒูุงุฏุฉ ุงูููู
```
(ูุฃู ุงูุชุงุฑูุฎ ุงููุงุฏู ุงุชุญุฏุซ)

---

### Test 10: ุงุฎุชุจุงุฑ ุงูุชูุฑุงุฑุงุช ุงููุฎุชููุฉ

**ุงูุณููุงุฑูููุงุช:**

#### A. ุณููู:
- ุงููุณุจุฉ: 10%
- ุงูุชูุฑุงุฑ: ุณููู
- ุงููุชูุฌุฉ: 10% ูุฑุฉ ูุงุญุฏุฉ

#### B. ูุตู ุณููู:
- ุงููุณุจุฉ: 10%
- ุงูุชูุฑุงุฑ: ูุตู ุณููู
- ุงููุชูุฌุฉ: 5% ูุฑุชูู

#### C. ุฑุจุน ุณููู:
- ุงููุณุจุฉ: 12%
- ุงูุชูุฑุงุฑ: ุฑุจุน ุณููู
- ุงููุชูุฌุฉ: 3% ุฃุฑุจุน ูุฑุงุช

#### D. ุดูุฑู:
- ุงููุณุจุฉ: 12%
- ุงูุชูุฑุงุฑ: ุดูุฑู
- ุงููุชูุฌุฉ: 1% ูู ุดูุฑ

---

## ๐ ุณููุงุฑูููุงุช ุงูุฃุฎุทุงุก

### Error Test 1: ุนูุฏ ุจุฏูู ููุธู
**ุงูุฎุทูุฉ:** ุญุงูู ุฅูุดุงุก ุนูุฏ ุจุฏูู ููุธู  
**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ุฑุณุงูุฉ ุฎุทุฃ

### Error Test 2: ูุณุจุฉ ุฒูุงุฏุฉ ุณุงูุจุฉ
**ุงูุฎุทูุฉ:** ุญุงูู ุฅุฏุฎุงู ูุณุจุฉ ุณุงูุจุฉ  
**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ุฑุณุงูุฉ ุฎุทุฃ

### Error Test 3: ุชุดุบูู Command ูุฑุชูู ูู ููุณ ุงูููู
**ุงูุฎุทูุฉ:** ุดุบู Command ูุฑุชูู  
**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ุงููุฑุฉ ุงูุซุงููุฉ: "ููุฌุฏ ุฒูุงุฏุฉ ุจููุณ ุงูุชุงุฑูุฎ"

---

## ๐ Checklist ุงูููุงุฆู

### ูุจู ุงููุดุฑ:
- [ ] ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ูุฌุญุช
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก
- [ ] ุงููุงุฌูุงุช ุชุนูู
- [ ] Command ูุนูู
- [ ] Documentation ูุญุฏุซ

### ุจุนุฏ ุงููุดุฑ:
- [ ] ุชุดุบูู Migrations
- [ ] ุฅุถุงูุฉ Cron Job
- [ ] ุงุฎุชุจุงุฑ ูู Production
- [ ] ูุฑุงูุจุฉ Logs

---

**ุฌุงูุฒ ููุจุฏุก! ๐**
