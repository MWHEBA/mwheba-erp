# Generated by Django 4.2.23 on 2025-10-09 11:29

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('supplier', '0007_add_advanced_service_models'),
    ]

    operations = [
        migrations.AlterField(
            model_name='supplierservicecategory',
            name='name',
            field=models.CharField(max_length=100, verbose_name='اسم التصنيف'),
        ),
        migrations.CreateModel(
            name='SupplierServiceTag',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='اسم الخدمة المقدمة من المورد', max_length=100, unique=True, verbose_name='اسم الخدمة')),
                ('category', models.CharField(choices=[('printing', 'طباعة'), ('paper', 'ورق'), ('finishing', 'تشطيب'), ('design', 'تصميم'), ('packaging', 'تغطية'), ('binding', 'تجليد'), ('cutting', 'قص'), ('coating', 'تغطية'), ('digital', 'خدمات رقمية'), ('logistics', 'لوجستيات'), ('other', 'أخرى')], help_text='تصنيف الخدمة حسب النوع', max_length=20, verbose_name='فئة الخدمة')),
                ('description', models.TextField(blank=True, help_text='وصف تفصيلي للخدمة', verbose_name='وصف الخدمة')),
                ('color_code', models.CharField(blank=True, default='#6c757d', help_text='لون الخدمة بصيغة HEX مثل #FF5733', max_length=7, verbose_name='رمز اللون')),
                ('icon', models.CharField(blank=True, help_text='اسم الأيقونة من Font Awesome', max_length=50, verbose_name='أيقونة')),
                ('display_order', models.PositiveSmallIntegerField(default=0, help_text='ترتيب عرض الخدمة في القوائم', verbose_name='ترتيب العرض')),
                ('is_active', models.BooleanField(default=True, help_text='هل الخدمة متاحة للاستخدام', verbose_name='نشط')),
                ('requires_approval', models.BooleanField(default=False, help_text='هل تحتاج هذه الخدمة لموافقة خاصة', verbose_name='يتطلب موافقة')),
                ('estimated_duration', models.PositiveIntegerField(default=1, help_text='المدة المقدرة لتنفيذ الخدمة بالأيام', verbose_name='المدة المقدرة (أيام)')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('supplier_types', models.ManyToManyField(blank=True, help_text='أنواع الموردين التي تقدم هذه الخدمة', related_name='service_tags', to='supplier.suppliertype', verbose_name='أنواع الموردين')),
            ],
            options={
                'verbose_name': 'خدمة مورد',
                'verbose_name_plural': 'خدمات الموردين',
                'ordering': ['category', 'display_order', 'name'],
            },
        ),
        migrations.AddField(
            model_name='supplier',
            name='service_tags',
            field=models.ManyToManyField(blank=True, help_text='الخدمات التي يقدمها هذا المورد', related_name='suppliers', to='supplier.supplierservicetag', verbose_name='خدمات الموردين'),
        ),
        migrations.AddIndex(
            model_name='supplierservicetag',
            index=models.Index(fields=['category', 'is_active'], name='supplier_su_categor_733afa_idx'),
        ),
        migrations.AddIndex(
            model_name='supplierservicetag',
            index=models.Index(fields=['display_order'], name='supplier_su_display_5dda4f_idx'),
        ),
    ]
