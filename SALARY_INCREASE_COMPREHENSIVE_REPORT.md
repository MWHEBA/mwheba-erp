# ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø´Ø§Ù…Ù„: Ù†Ø¸Ø§Ù… Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø§Øª - MWHEBA ERP

---

## ğŸ“‘ ÙÙ‡Ø±Ø³ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

1. [Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ°ÙŠ](#Ù…Ù„Ø®Øµ-ØªÙ†ÙÙŠØ°ÙŠ)
2. [Ù…Ø§ ØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡](#Ù…Ø§-ØªÙ…-Ø¥Ù†Ø¬Ø§Ø²Ù‡)
3. [Ù…Ø§ Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡](#Ù…Ø§-Ù„Ù…-ÙŠØªÙ…-Ø¥Ù†Ø¬Ø§Ø²Ù‡)
4. [ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©](#ØªÙ†Ø¸ÙŠÙ-Ø§Ù„Ø£ÙƒÙˆØ§Ø¯-Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©)
5. [Ø®Ø·Ø© Ø§Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„](#Ø®Ø·Ø©-Ø§Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„)

---

## Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ°ÙŠ

### ğŸ¯ Ø§Ù„Ù‡Ø¯Ù
Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø§Øª Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª

### ğŸ“ˆ Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²
**60%** (3 Ù…Ù† 5 Ù…Ø±Ø§Ø­Ù„)

### âœ… Ø§Ù„Ø­Ø§Ù„Ø©
- **Ø§Ù„Ù†Ù…Ø§Ø°Ø¬:** âœ… 100%
- **Views:** âœ… 100%
- **URLs:** â¸ï¸ Ù…Ø¹Ø·Ù„ Ù…Ø¤Ù‚ØªØ§Ù‹
- **Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨:** âŒ 0%
- **Ø§Ù„ØªÙ†Ø¸ÙŠÙ:** âœ… 70%

---

## Ù…Ø§ ØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡

### âœ… Ø§Ù„Ù…Ø±Ø­Ù„Ø© 0: Ø§Ù„ØªÙ†Ø¸ÙŠÙ (70%)

#### 1. Contract Model âœ…
- Ø­Ø°Ù ÙƒÙˆØ¯ `next_increase_date` Ù…Ù† `save()`
- Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù…Ø­Ø°ÙˆÙØ© Ù…Ù† DB

#### 2. ÙØ­Øµ Ø§Ù„ÙƒÙˆØ¯ âœ…
- Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø±Ø§Ø¬Ø¹ Ù„Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©

### âœ… Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ (100%)

#### Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…ÙÙ†Ø´Ø£Ø©:
1. **SalaryIncreaseTemplate** - Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª
2. **AnnualIncreasePlan** - Ø®Ø·Ø· Ø³Ù†ÙˆÙŠØ©
3. **PlannedIncrease** - Ø²ÙŠØ§Ø¯Ø§Øª Ù…Ø®Ø·Ø·Ø©
4. **EmployeeIncreaseCategory** - ÙØ¦Ø§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†

#### Migration:
- `0010_add_salary_increase_system.py` âœ… Ù…Ø·Ø¨Ù‚

### âœ… Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Views (100%)

#### Views Ø§Ù„Ù…ÙÙ†Ø´Ø£Ø© (18 view):
- ØµÙØ­Ø© Ø±Ø¦ÙŠØ³ÙŠØ©
- CRUD Ù„Ù„Ù‚ÙˆØ§Ù„Ø¨ (4)
- CRUD Ù„Ù„Ø®Ø·Ø· (4)
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª (5)
- CRUD Ù„Ù„ÙØ¦Ø§Øª (4)

---

## Ù…Ø§ Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡

### âŒ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 0: Ø§Ù„ØªÙ†Ø¸ÙŠÙ (30% Ù…ØªØ¨Ù‚ÙŠ)

#### 1. Views - Ø¯Ù…Ø¬ Ø§Ù„Ø¯ÙˆØ§Ù„
**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```python
# Ø¯Ù…Ø¬ contract_increase_apply Ùˆ contract_increase_cancel
# ÙÙŠ Ø¯Ø§Ù„Ø© ÙˆØ§Ø­Ø¯Ø©: contract_increase_action
```

#### 2. URLs - ØªØ¨Ø³ÙŠØ· Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª
**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```python
# ØªØ­ÙˆÙŠÙ„ Ù…Ø³Ø§Ø±ÙŠÙ† Ø¥Ù„Ù‰ Ù…Ø³Ø§Ø± ÙˆØ§Ø­Ø¯ Ù…Ø¹ action parameter
```

#### 3. Admin - Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
```python
# ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø£Ø±Ø¨Ø¹Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Admin
```

### âŒ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ (0%)

#### Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (12 Ù…Ù„Ù):

**1. Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (1 Ù…Ù„Ù)**
- `settings_home.html`

**2. Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª (3 Ù…Ù„ÙØ§Øª)**
- `template_list.html`
- `template_form.html`
- `template_delete.html`

**3. Ø§Ù„Ø®Ø·Ø· Ø§Ù„Ø³Ù†ÙˆÙŠØ© (4 Ù…Ù„ÙØ§Øª)**
- `plan_list.html`
- `plan_form.html`
- `plan_detail.html`
- `generate_increases.html`

**4. Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ù…Ø®Ø·Ø·Ø© (1 Ù…Ù„Ù)**
- `bulk_apply_confirm.html`

**5. ÙØ¦Ø§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† (3 Ù…Ù„ÙØ§Øª)**
- `category_list.html`
- `category_form.html`
- `category_delete.html`

### âŒ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: Ø§Ù„ØªÙƒØ§Ù…Ù„ (0%)

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
1. ØªÙØ¹ÙŠÙ„ URLs ÙÙŠ `hr/urls.py`
2. Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
3. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ…

### âŒ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Ø§Ù„ØªÙˆØ«ÙŠÙ‚ (0%)

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:**
1. Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
2. Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø·ÙˆØ±
3. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ© (fixtures)

---

## ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©

### âœ… Ù…Ø§ ØªÙ… ØªÙ†Ø¸ÙŠÙÙ‡

#### 1. Contract Model
**Ø§Ù„Ù…Ù„Ù:** `hr/models/contract.py`
- âœ… Ø­Ø°Ù ÙƒÙˆØ¯ `next_increase_date`
- âœ… Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù…Ø­Ø°ÙˆÙØ©

#### 2. Migrations
- âœ… Ù†Ø¸ÙŠÙØ© - Ù„Ø§ ØªØ¹Ø§Ø±Ø¶

### â³ Ù…Ø§ ÙŠØ­ØªØ§Ø¬ ØªÙ†Ø¸ÙŠÙ

#### 1. Views (hr/views.py)

**Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ:**
```python
# Ø§Ù„Ø³Ø·Ø± 2954
def contract_increase_apply(request, increase_id):
    increase = get_object_or_404(ContractIncrease, pk=increase_id)
    success, message = increase.apply_increase(applied_by=request.user)
    return JsonResponse({'success': success, 'message': message})

# Ø§Ù„Ø³Ø·Ø± 2971
def contract_increase_cancel(request, increase_id):
    increase = get_object_or_404(ContractIncrease, pk=increase_id)
    success, message = increase.cancel_increase()
    return JsonResponse({'success': success, 'message': message})
```

**Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ù‚ØªØ±Ø­:**
```python
@login_required
@require_http_methods(["POST"])
def contract_increase_action(request, increase_id, action):
    """Ø¯Ø§Ù„Ø© Ù…ÙˆØ­Ø¯Ø© Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª"""
    increase = get_object_or_404(ContractIncrease, pk=increase_id)
    
    if action == 'apply':
        success, message = increase.apply_increase(applied_by=request.user)
    elif action == 'cancel':
        success, message = increase.cancel_increase()
    else:
        return JsonResponse({'success': False, 'message': 'Ø¥Ø¬Ø±Ø§Ø¡ ØºÙŠØ± ØµØ­ÙŠØ­'}, status=400)
    
    return JsonResponse({'success': success, 'message': message})
```

#### 2. URLs (hr/urls.py)

**Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø§Ù„Ø³Ø·ÙˆØ± 136-137):**
```python
path('contracts/increases/<int:increase_id>/apply/', 
     views.contract_increase_apply, 
     name='contract_increase_apply'),
path('contracts/increases/<int:increase_id>/cancel/', 
     views.contract_increase_cancel, 
     name='contract_increase_cancel'),
```

**Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ù‚ØªØ±Ø­:**
```python
path('contracts/increases/<int:increase_id>/<str:action>/', 
     views.contract_increase_action, 
     name='contract_increase_action'),
```

#### 3. Admin (hr/admin.py)

**Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø¥Ø¶Ø§ÙØªÙ‡:**
```python
@admin.register(SalaryIncreaseTemplate)
class SalaryIncreaseTemplateAdmin(admin.ModelAdmin):
    list_display = ['name', 'code', 'increase_type', 'is_active', 'is_default']
    list_filter = ['increase_type', 'is_active']
    search_fields = ['name', 'code']

@admin.register(AnnualIncreasePlan)
class AnnualIncreasePlanAdmin(admin.ModelAdmin):
    list_display = ['name', 'year', 'template', 'status', 'effective_date']
    list_filter = ['year', 'status']
    search_fields = ['name']

@admin.register(PlannedIncrease)
class PlannedIncreaseAdmin(admin.ModelAdmin):
    list_display = ['employee', 'plan', 'current_salary', 'new_salary', 'status']
    list_filter = ['status', 'plan']

@admin.register(EmployeeIncreaseCategory)
class EmployeeIncreaseCategoryAdmin(admin.ModelAdmin):
    list_display = ['name', 'code', 'default_template', 'is_active']
    list_filter = ['is_active']
```

---

## Ø®Ø·Ø© Ø§Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„

### ğŸ“… Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ

#### ÙŠÙˆÙ… 1: Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (4 Ø³Ø§Ø¹Ø§Øª)

**Ø§Ù„Ù…Ù‡Ø§Ù…:**
1. Ø¯Ù…Ø¬ Views (1 Ø³Ø§Ø¹Ø©)
2. ØªØ¨Ø³ÙŠØ· URLs (30 Ø¯Ù‚ÙŠÙ‚Ø©)
3. ØªØ­Ø³ÙŠÙ† Admin (1 Ø³Ø§Ø¹Ø©)
4. Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ø®ØªØ¨Ø§Ø± (1.5 Ø³Ø§Ø¹Ø©)

**Ø§Ù„Ø£ÙˆØ§Ù…Ø±:**
```bash
git add .
git commit -m "refactor: cleanup old salary increase code"
python manage.py test hr.tests
```

#### ÙŠÙˆÙ… 2-3: Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ (16 Ø³Ø§Ø¹Ø©)

**Ø§Ù„ÙŠÙˆÙ… 2 (8 Ø³Ø§Ø¹Ø§Øª):**
1. Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (2 Ø³Ø§Ø¹Ø©)
2. Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª (3 Ø³Ø§Ø¹Ø§Øª)
3. Ø§Ù„Ø®Ø·Ø· - Ø¬Ø²Ø¡ 1 (3 Ø³Ø§Ø¹Ø§Øª)

**Ø§Ù„ÙŠÙˆÙ… 3 (8 Ø³Ø§Ø¹Ø§Øª):**
1. Ø§Ù„Ø®Ø·Ø· - Ø¬Ø²Ø¡ 2 (4 Ø³Ø§Ø¹Ø§Øª)
2. ÙØ¦Ø§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† (3 Ø³Ø§Ø¹Ø§Øª)
3. CSS/JS (1 Ø³Ø§Ø¹Ø©)

#### ÙŠÙˆÙ… 4: Ø§Ù„ØªÙƒØ§Ù…Ù„ (6 Ø³Ø§Ø¹Ø§Øª)

**Ø§Ù„Ù…Ù‡Ø§Ù…:**
1. ØªÙØ¹ÙŠÙ„ URLs (1 Ø³Ø§Ø¹Ø©)
2. Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© (30 Ø¯Ù‚ÙŠÙ‚Ø©)
3. Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„ (3 Ø³Ø§Ø¹Ø§Øª)
4. Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ (1.5 Ø³Ø§Ø¹Ø©)

#### ÙŠÙˆÙ… 5: Ø§Ù„ØªÙˆØ«ÙŠÙ‚ (4 Ø³Ø§Ø¹Ø§Øª)

**Ø§Ù„Ù…Ù‡Ø§Ù…:**
1. Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (2 Ø³Ø§Ø¹Ø©)
2. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ© (1 Ø³Ø§Ø¹Ø©)
3. Ù…Ø±Ø§Ø¬Ø¹Ø© Ù†Ù‡Ø§Ø¦ÙŠØ© (1 Ø³Ø§Ø¹Ø©)

---

## Ø§Ù„Ø®Ù„Ø§ØµØ©

### âœ… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
- Ù†Ù…Ø§Ø°Ø¬ Ù…ØªÙƒØ§Ù…Ù„Ø© ÙˆÙ…Ø·Ø¨Ù‚Ø©
- Views Ø´Ø§Ù…Ù„Ø© ÙˆØ¬Ø§Ù‡Ø²Ø©
- Migration Ù…Ø·Ø¨Ù‚ Ø¨Ù†Ø¬Ø§Ø­
- ØªÙ†Ø¸ÙŠÙ Ø¬Ø²Ø¦ÙŠ Ù„Ù„ÙƒÙˆØ¯ Ø§Ù„Ù‚Ø¯ÙŠÙ…

### â³ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ
- Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªÙ†Ø¸ÙŠÙ (30%)
- Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ (12 Ù…Ù„Ù)
- ØªÙØ¹ÙŠÙ„ URLs
- Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙƒØ§Ù…Ù„
- Ø§Ù„ØªÙˆØ«ÙŠÙ‚

### ğŸ¯ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª
1. **Ø¹Ø§Ø¬Ù„:** Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªÙ†Ø¸ÙŠÙ
2. **Ù…Ù‡Ù…:** Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨
3. **Ø¶Ø±ÙˆØ±ÙŠ:** ØªÙØ¹ÙŠÙ„ URLs ÙˆØ§Ø®ØªØ¨Ø§Ø±

### ğŸ“Š Ø§Ù„ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø²Ù…Ù†ÙŠ
- **Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ:** 30 Ø³Ø§Ø¹Ø© Ø¹Ù…Ù„
- **Ø§Ù„Ù…Ø¯Ø©:** 5 Ø£ÙŠØ§Ù… Ø¹Ù…Ù„
- **Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:** 100%

---

**ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø±ÙŠØ±:** 2025-11-07  
**Ø§Ù„Ø­Ø§Ù„Ø©:** Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°  
**Ø§Ù„ØªÙ‚Ø¯Ù…:** 60% âœ…
