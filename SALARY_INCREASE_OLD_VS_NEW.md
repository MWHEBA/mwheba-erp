# ๐ ููุงุฑูุฉ: ุงููุธุงู ุงููุฏูู vs ุงููุธุงู ุงูุฌุฏูุฏ
## ูุธุงู ุฒูุงุฏุงุช ุงููุฑุชุจุงุช - MWHEBA ERP

---

## ๐ ุฌุฏูู ุงูููุงุฑูุฉ ุงูุณุฑูุน

| ุงูููุฒุฉ | ุงููุธุงู ุงููุฏูู | ุงููุธุงู ุงูุฌุฏูุฏ |
|--------|---------------|---------------|
| **ุงููุทุงู** | ุนูู ูุณุชูู ุงูุนูุฏ ููุท | ุนูู ูุณุชูู ุงููุคุณุณุฉ |
| **ุงูุชุฎุทูุท** | ูุฏูู ููู ููุธู | ุฎุทุท ุณูููุฉ ุดุงููุฉ |
| **ุงูููุงูุจ** | โ ุบูุฑ ููุฌูุฏ | โ ููุงูุจ ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู |
| **ุงูุชุทุจูู ุงูุฌูุงุนู** | โ ุบูุฑ ูุชุงุญ | โ ูุชุงุญ |
| **ุงููุฆุงุช** | โ ุบูุฑ ููุฌูุฏ | โ ูุฆุงุช ููููุธููู |
| **ุงูููุฒุงููุฉ** | โ ูุง ููุฌุฏ ุชุชุจุน | โ ุชุชุจุน ูุงูู |
| **ุงูุงุนุชูุงุฏ** | โ ุชุทุจูู ูุจุงุดุฑ | โ ูุธุงู ุงุนุชูุงุฏ |
| **ุงูุชูุงุฑูุฑ** | โ ูุญุฏูุฏุฉ | โ ุดุงููุฉ |

---

## ๐ด ุงููุธุงู ุงููุฏูู (ContractIncrease)

### ุงูุจููุฉ ุงูุฃุณุงุณูุฉ

```python
# hr/models/contract.py
class ContractIncrease(models.Model):
    """ุฌุฏูู ุงูุฒูุงุฏุงุช ุงููุฌุฏููุฉ ููุนูุฏ"""
    
    contract = ForeignKey(Contract)
    increase_number = IntegerField()
    increase_type = CharField()  # percentage/fixed
    increase_percentage = DecimalField()
    increase_amount = DecimalField()
    months_from_start = IntegerField()
    scheduled_date = DateField()
    status = CharField()  # pending/applied/cancelled
    applied_date = DateField()
    applied_amount = DecimalField()
    amendment = OneToOneField(ContractAmendment)
```

### ููู ูุนููุ

#### 1. ุฅูุดุงุก ุฌุฏูู ุฒูุงุฏุงุช ูุนูุฏ ูุงุญุฏ
```python
# ูุซุงู: ุฅูุดุงุก 3 ุฒูุงุฏุงุช ูุนูุฏ ููุธู
Contract.create_increase_schedule(
    num_increases=3,
    increase_percentage=7.5,
    months_between=6
)

# ุงููุชูุฌุฉ:
# - ุฒูุงุฏุฉ 1: ุจุนุฏ 6 ุฃุดูุฑ (7.5%)
# - ุฒูุงุฏุฉ 2: ุจุนุฏ 12 ุดูุฑ (7.5%)
# - ุฒูุงุฏุฉ 3: ุจุนุฏ 18 ุดูุฑ (7.5%)
```

#### 2. ุชุทุจูู ุฒูุงุฏุฉ ูุงุญุฏุฉ
```python
# ุชุทุจูู ุฒูุงุฏุฉ ูุญุฏุฏุฉ
increase = ContractIncrease.objects.get(pk=1)
increase.apply_increase(applied_by=user)

# ุงููุชูุฌุฉ:
# - ุชุญุฏูุซ ุงูุฑุงุชุจ ูู ุงูุนูุฏ
# - ุฅูุดุงุก ContractAmendment
# - ุชุบููุฑ ุงูุญุงูุฉ ุฅูู applied
```

#### 3. ุฅูุบุงุก ุฒูุงุฏุฉ
```python
increase.cancel_increase()
# ุงููุชูุฌุฉ: ุชุบููุฑ ุงูุญุงูุฉ ุฅูู cancelled
```

### ุงููุดุงูู

#### โ 1. ุชูุฑุงุฑ ุงูุนูู
```
ูุชุทุจูู ุฒูุงุฏุฉ 10% ุนูู 50 ููุธู:
- ุฅูุดุงุก 50 ุฌุฏูู ุฒูุงุฏุงุช ูููุตู
- ุชุทุจูู 50 ุฒูุงุฏุฉ ูุฏููุงู
- ุงูููุช: ~2 ุณุงุนุฉ
```

#### โ 2. ุนุฏู ูุฌูุฏ ุณูุงุณุฉ ููุญุฏุฉ
```
ูู ุนูุฏ ูู ุฌุฏูู ุฒูุงุฏุงุช ุฎุงุต
ูุง ููุฌุฏ ูุงูุจ ูุดุชุฑู
ุตุนูุจุฉ ุชุทุจูู ุณูุงุณุฉ ููุญุฏุฉ
```

#### โ 3. ูุง ููุฌุฏ ุชุฎุทูุท ูุณุจู
```
ูุง ูููู ูุนุฑูุฉ ุงูุชูููุฉ ุงููุณุชูุจููุฉ
ูุง ููุฌุฏ ููุฒุงููุฉ ูุญุฏุฏุฉ
ุตุนูุจุฉ ุงูุชุฎุทูุท ุงููุงูู
```

#### โ 4. ูุญุฏูุฏูุฉ ุงูุฎูุงุฑุงุช
```
ููุท ููุนูู: ูุณุจุฉ ุฃู ูุจูุบ ุซุงุจุช
ูุง ููุฌุฏ ุฒูุงุฏุฉ ุญุณุจ ุงูุฃุฏุงุก
ูุง ููุฌุฏ ุฒูุงุฏุฉ ุญุณุจ ุงูุฃูุฏููุฉ
```

---

## ๐ข ุงููุธุงู ุงูุฌุฏูุฏ (Salary Increase Settings)

### ุงูุจููุฉ ุงูุฃุณุงุณูุฉ

```python
# hr/models/salary_increase.py

# 1. ุงูููุงูุจ - ุณูุงุณุงุช ุนุงูุฉ
class SalaryIncreaseTemplate(models.Model):
    name = CharField()
    code = CharField()
    increase_type = CharField()  # percentage/fixed/performance/inflation/seniority
    default_percentage = DecimalField()
    default_amount = DecimalField()
    frequency = CharField()  # annual/semi_annual/quarterly/monthly
    min_service_months = IntegerField()
    min_performance_rating = DecimalField()
    is_active = BooleanField()
    is_default = BooleanField()

# 2. ุงูุฎุทุท ุงูุณูููุฉ
class AnnualIncreasePlan(models.Model):
    name = CharField()
    year = IntegerField()
    template = ForeignKey(SalaryIncreaseTemplate)
    effective_date = DateField()
    total_budget = DecimalField()
    allocated_amount = DecimalField()
    status = CharField()  # draft/approved/in_progress/completed/cancelled

# 3. ุงูุฒูุงุฏุงุช ุงููุฎุทุทุฉ
class PlannedIncrease(models.Model):
    plan = ForeignKey(AnnualIncreasePlan)
    employee = ForeignKey(Employee)
    contract = ForeignKey(Contract)
    current_salary = DecimalField()
    increase_percentage = DecimalField()
    calculated_amount = DecimalField()
    new_salary = DecimalField()
    performance_rating = DecimalField()
    status = CharField()  # pending/approved/rejected/applied
    contract_increase = OneToOneField(ContractIncrease)  # ุฑุจุท ูุน ุงููุธุงู ุงููุฏูู

# 4. ูุฆุงุช ุงูููุธููู
class EmployeeIncreaseCategory(models.Model):
    name = CharField()
    code = CharField()
    default_template = ForeignKey(SalaryIncreaseTemplate)
    is_active = BooleanField()
```

### ููู ูุนููุ

#### 1. ุฅูุดุงุก ูุงูุจ ุฒูุงุฏุฉ (ูุฑุฉ ูุงุญุฏุฉ)
```python
# ุฅูุดุงุก ูุงูุจ: ุฒูุงุฏุฉ ุณูููุฉ 10%
template = SalaryIncreaseTemplate.objects.create(
    name='ุฒูุงุฏุฉ ุณูููุฉ 10%',
    code='ANNUAL_10',
    increase_type='percentage',
    default_percentage=10,
    frequency='annual',
    min_service_months=12,
    is_active=True,
    is_default=True
)
```

#### 2. ุฅูุดุงุก ุฎุทุฉ ุณูููุฉ
```python
# ุฅูุดุงุก ุฎุทุฉ 2025
plan = AnnualIncreasePlan.objects.create(
    name='ุฎุทุฉ ุงูุฒูุงุฏุงุช 2025',
    year=2025,
    template=template,
    effective_date='2025-01-01',
    total_budget=500000,  # 500 ุฃูู ุฌููู
    status='draft'
)
```

#### 3. ุชูููุฏ ุฒูุงุฏุงุช ููููุธููู ุงููุคูููู (ุชููุงุฆู)
```python
# ุชูููุฏ ุฒูุงุฏุงุช ูุฌููุน ุงูููุธููู ุงููุดุทูู
# ุงูุฐูู ุฃููููุง 12 ุดูุฑ ุฎุฏูุฉ
plan.generate_planned_increases()

# ุงููุชูุฌุฉ:
# - ุฅูุดุงุก PlannedIncrease ููู ููุธู ูุคูู
# - ุญุณุงุจ ุชููุงุฆู ูููุจุงูุบ
# - ุญุงูุฉ: pending (ุจุงูุชุธุงุฑ ุงูุงุนุชูุงุฏ)
```

#### 4. ุงุนุชูุงุฏ ุงูุฒูุงุฏุงุช
```python
# ุงุนุชูุงุฏ ุฒูุงุฏุฉ ููุธู ูุญุฏุฏ
increase = PlannedIncrease.objects.get(pk=1)
increase.approve(approved_by=manager)

# ุฃู ุงุนุชูุงุฏ ุฌูุงุนู
plan.planned_increases.filter(
    performance_rating__gte=3.5
).update(status='approved')
```

#### 5. ุชุทุจูู ุฌูุงุนู
```python
# ุชุทุจูู ุฌููุน ุงูุฒูุงุฏุงุช ุงููุนุชูุฏุฉ ุฏูุนุฉ ูุงุญุฏุฉ
plan.bulk_apply_increases()

# ุงููุชูุฌุฉ:
# - ุชุญุฏูุซ ุฑูุงุชุจ ุฌููุน ุงูููุธููู
# - ุฅูุดุงุก ContractIncrease ููู ููุธู (ุฑุจุท ูุน ุงููุธุงู ุงููุฏูู)
# - ุฅูุดุงุก ContractAmendment
# - ุชุญุฏูุซ ุญุงูุฉ ุงูุฎุทุฉ ุฅูู completed
```

### ุงููููุฒุงุช

#### โ 1. ููุงุกุฉ ุนุงููุฉ
```
ูุชุทุจูู ุฒูุงุฏุฉ 10% ุนูู 50 ููุธู:
- ุฅูุดุงุก ูุงูุจ ูุงุญุฏ (ูุฑุฉ ูุงุญุฏุฉ)
- ุฅูุดุงุก ุฎุทุฉ ูุงุญุฏุฉ
- ุชูููุฏ ุชููุงุฆู ูู 50 ุฒูุงุฏุฉ
- ุชุทุจูู ุฌูุงุนู ุจููุฑุฉ ูุงุญุฏุฉ
- ุงูููุช: ~10 ุฏูุงุฆู
```

#### โ 2. ุณูุงุณุฉ ููุญุฏุฉ
```
ููุงูุจ ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
ุชุทุจูู ูุชุณู ุนูู ุฌููุน ุงูููุธููู
ุณูููุฉ ุงูุชุนุฏูู ูุงูุชุญุฏูุซ
```

#### โ 3. ุชุฎุทูุท ูุณุจู
```
ูุนุฑูุฉ ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ ูุณุจูุงู
ุชุญุฏูุฏ ููุฒุงููุฉ ููุฎุทุฉ
ุชูุงุฑูุฑ ููุตูุฉ
```

#### โ 4. ูุฑููุฉ ุนุงููุฉ
```
5 ุฃููุงุน ุฒูุงุฏุงุช:
- ูุณุจุฉ ูุฆููุฉ
- ูุจูุบ ุซุงุจุช
- ุญุณุจ ุงูุฃุฏุงุก
- ุญุณุจ ุงูุชุถุฎู
- ุญุณุจ ุงูุฃูุฏููุฉ
```

#### โ 5. ูุธุงู ุงุนุชูุงุฏ
```
ูุฑุงุฌุนุฉ ูุจู ุงูุชุทุจูู
ุงุนุชูุงุฏ/ุฑูุถ ูุฑุฏู ุฃู ุฌูุงุนู
ุชุชุจุน ุงููุนุชูุฏูู
```

---

## ๐ ุงูุชูุงูู ุจูู ุงููุธุงููู

### ููู ูุนููุงู ูุนุงูุ

```python
# ุนูุฏ ุชุทุจูู PlannedIncrease
def apply_to_contract(self, applied_by):
    # 1. ุฅูุดุงุก ContractIncrease (ุงููุธุงู ุงููุฏูู)
    contract_increase = ContractIncrease.objects.create(
        contract=self.contract,
        increase_number=self.contract.scheduled_increases.count() + 1,
        increase_type='percentage' if self.increase_percentage else 'fixed',
        increase_percentage=self.increase_percentage,
        increase_amount=self.calculated_amount,
        scheduled_date=self.plan.effective_date,
        status='pending',
        created_by=applied_by,
        notes=f'ุฒูุงุฏุฉ ูู ุฎุทุฉ: {self.plan.name}'
    )
    
    # 2. ุชุทุจูู ุงูุฒูุงุฏุฉ (ุงููุธุงู ุงููุฏูู)
    success, message = contract_increase.apply_increase(applied_by)
    
    # 3. ุฑุจุท PlannedIncrease ูุน ContractIncrease
    if success:
        self.status = 'applied'
        self.contract_increase = contract_increase
        self.save()
    
    return success, message
```

### ุงูููุงุฆุฏ:

#### โ 1. ุงูุชูุงูู ุงููุงูู
```
ุงููุธุงู ุงูุฌุฏูุฏ ูุณุชุฎุฏู ุงููุธุงู ุงููุฏูู ูู ุงูุฎูููุฉ
ูุง ูุณุฑ ูููุธุงุฆู ุงูููุฌูุฏุฉ
ุฌููุน ุงูุชุนุฏููุงุช ูุงูุชูุงุฑูุฑ ุชุนูู
```

#### โ 2. ุงูุชุชุจุน ุงููุงูู
```
ูู PlannedIncrease ูุฑุชุจุท ุจู ContractIncrease
ูููู ุชุชุจุน ุงูุฒูุงุฏุฉ ูู ุงูุฎุทุฉ ุฅูู ุงูุนูุฏ
ุชุงุฑูุฎ ูุงูู ููุฒูุงุฏุงุช
```

#### โ 3. ุงููุฑููุฉ
```
ูููู ุงุณุชุฎุฏุงู ุงููุธุงู ุงููุฏูู ูุจุงุดุฑุฉ (ููุญุงูุงุช ุงูุฎุงุตุฉ)
ูููู ุงุณุชุฎุฏุงู ุงููุธุงู ุงูุฌุฏูุฏ (ููุฒูุงุฏุงุช ุงูุฌูุงุนูุฉ)
ุงูุงุซูุงู ูุนููุงู ูุนุงู ุจุณูุงุณุฉ
```

---

## ๐ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู 1: ุฒูุงุฏุฉ ุณูููุฉ ูุฌููุน ุงูููุธููู

#### ุงููุธุงู ุงููุฏูู:
```
1. ูุชุญ ุตูุญุฉ ูู ููุธู (50 ููุธู)
2. ุฅูุดุงุก ุฌุฏูู ุฒูุงุฏุงุช ููู ููุธู
3. ุงูุชุธุงุฑ ุงูุชุงุฑูุฎ ุงููุญุฏุฏ
4. ุชุทุจูู ูู ุฒูุงุฏุฉ ูุฏููุงู
โฑ๏ธ ุงูููุช: ~2 ุณุงุนุฉ
```

#### ุงููุธุงู ุงูุฌุฏูุฏ:
```
1. ุฅูุดุงุก ูุงูุจ "ุฒูุงุฏุฉ ุณูููุฉ 10%" (ูุฑุฉ ูุงุญุฏุฉ)
2. ุฅูุดุงุก ุฎุทุฉ "2025"
3. ุชูููุฏ ุฒูุงุฏุงุช (ุชููุงุฆู)
4. ุงุนุชูุงุฏ ุฌูุงุนู
5. ุชุทุจูู ุฌูุงุนู (ููุฑุฉ ูุงุญุฏุฉ)
โฑ๏ธ ุงูููุช: ~10 ุฏูุงุฆู
```

### ุงูุณููุงุฑูู 2: ุฒูุงุฏุฉ ุญุณุจ ุงูุฃุฏุงุก

#### ุงููุธุงู ุงููุฏูู:
```
โ ุบูุฑ ูุชุงุญ
ูุฌุจ ุญุณุงุจ ูู ุฒูุงุฏุฉ ูุฏููุงู
ูุง ููุฌุฏ ุฑุจุท ูุน ุชูููู ุงูุฃุฏุงุก
```

#### ุงููุธุงู ุงูุฌุฏูุฏ:
```
โ ูุชุงุญ
1. ุฅูุดุงุก ูุงูุจ "ุฒูุงุฏุฉ ุญุณุจ ุงูุฃุฏุงุก"
2. ุฅูุดุงุก ุฎุทุฉ
3. ุชูููุฏ ุฒูุงุฏุงุช (ูุฃุฎุฐ ุชูููู ุงูุฃุฏุงุก ุชููุงุฆูุงู)
4. ุงุนุชูุงุฏ ุงูุฒูุงุฏุงุช ููููุธููู ุฐูู ุงูุฃุฏุงุก ุงูุนุงูู
5. ุชุทุจูู ุฌูุงุนู
```

### ุงูุณููุงุฑูู 3: ุชุฎุทูุท ุงูููุฒุงููุฉ

#### ุงููุธุงู ุงููุฏูู:
```
โ ุบูุฑ ูุชุงุญ
ูุง ูููู ูุนุฑูุฉ ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ
ูุง ููุฌุฏ ุชุชุจุน ููููุฒุงููุฉ
```

#### ุงููุธุงู ุงูุฌุฏูุฏ:
```
โ ูุชุงุญ
1. ุชุญุฏูุฏ ููุฒุงููุฉ ูู ุงูุฎุทุฉ (500 ุฃูู)
2. ุชูููุฏ ุงูุฒูุงุฏุงุช
3. ุนุฑุถ ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ
4. ุงุนุชูุงุฏ ุงูุฒูุงุฏุงุช ุถูู ุงูููุฒุงููุฉ
5. ุชูุฑูุฑ ููุตู ุจุงูุชูุงููู
```

---

## ๐ฏ ุงูุฎูุงุตุฉ

### ูุชู ุชุณุชุฎุฏู ุงููุธุงู ุงููุฏููุ
- โ ุฒูุงุฏุฉ ูููุธู ูุงุญุฏ
- โ ุญุงูุฉ ุฎุงุตุฉ ุฃู ุงุณุชุซูุงุฆูุฉ
- โ ุฒูุงุฏุฉ ููุฑูุฉ ุบูุฑ ูุฎุทุทุฉ

### ูุชู ุชุณุชุฎุฏู ุงููุธุงู ุงูุฌุฏูุฏุ
- โ ุฒูุงุฏุงุช ุณูููุฉ/ุฏูุฑูุฉ
- โ ุฒูุงุฏุงุช ุฌูุงุนูุฉ
- โ ุชุฎุทูุท ูุณุจู
- โ ุชุชุจุน ุงูููุฒุงููุฉ
- โ ุณูุงุณุฉ ููุญุฏุฉ

### ุงูุชูุตูุฉ:
**ุงุณุชุฎุฏู ุงููุธุงู ุงูุฌุฏูุฏ ููุฒูุงุฏุงุช ุงููุฎุทุทุฉ ูุงูุฌูุงุนูุฉุ ูุงููุธุงู ุงููุฏูู ููุญุงูุงุช ุงูุฎุงุตุฉ ูุงููุฑุฏูุฉ.**

---

**ุชุงุฑูุฎ ุงูููุงุฑูุฉ:** 2025-11-07  
**ุงูุญุงูุฉ:** ุงููุธุงู ุงูุฌุฏูุฏ ููุฏ ุงูุชุทููุฑ (60%)
